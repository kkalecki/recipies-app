import {EventEmitter, Injectable} from '@angular/core';
import {Recipe} from "./recipe.model";
import {Ingredient} from "../shared/ingredient.model";
import {ShoppingListService} from "../shopping-list/shopping-list.service";

@Injectable({
  providedIn: 'root'
})
export class RecipeService {

  recipeSelected = new EventEmitter<Recipe>();
  private recipes: Recipe[] = [
    new Recipe('Spicy Burger',
      'Very Spicy Burger',
      'data:image/jpeg;base64,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',
      [new Ingredient('meat',2), new Ingredient('Tomatoes',1), new Ingredient('Pepper',2)]),
    new Recipe('Tasty Steak',
      'Delicious Big Steak',
      'https://www.seriouseats.com/thmb/-KA2hwMofR2okTRndfsKtapFG4Q=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/__opt__aboutcom__coeus__resources__content_migration__serious_eats__seriouseats.com__recipes__images__2015__05__Anova-Steak-Guide-Sous-Vide-Photos15-beauty-159b7038c56a4e7685b57f478ca3e4c8.jpg',
      [new Ingredient('meat',2), new Ingredient('Tomatoes',1), new Ingredient('Herbs',2)])
  ];

  constructor(private shoppingListService: ShoppingListService) { }

  getRecipes() {
    // return [...this.recipes];   // to sa 2 opcje, aby zamiast referencji do listy, przeslac liste jako wartosci
    return this.recipes.slice();  //wiec jak zmienie to gdzies indziej, to zmienie tylko tamta instancje
  }

  addIngredientsToShoppingList(ingredients: Ingredient[])  {
    this.shoppingListService.addIngredients(ingredients);
  }
}
